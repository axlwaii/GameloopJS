var GameLoop=GameLoop||{};window.requestAnimFrame=function(){"use strict";return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/30)}}(),GameLoop=function(e,n,t){"use strict";function o(){return.1*parseInt(Date.now()-p,10)}function i(){for(G=0;G<l.length;G++)l[G].render(u,c)}function r(){for(O=0;O<l.length;O++)l[O].update(u,c);i()}function a(){return e.requestAnimFrame(a),c.save(),r(),p=Date.now(),c.restore(),b?void 0:!1}var u,c,s,d,m,f,w,p,l,v,g,h,b,j,q,A,F,O,G;return w=function(e){return e===t?(console.error("No canvas object is defined"),!1):(b=!1,l=[],u=n.getElementById(e),c=u.getContext("2d"),void f(60))},f=function(e){return d=e||d,m=1e3/d,d},v=function(e){"object"==typeof e&&(e.update===t&&(e.update=function(){}),e.render===t&&(e.render=function(){}),l.push(e))},g=function(e){var n;for(n=0;n<e.length;n++){var t=l[n];v(t)}},h=function(e){l.indexOf(e)>=0&&l.splice(l.indexOf(e,1))},s=function(){c.clearRect(0,0,u.width,u.height)},A=function(){0===l.length&&console.warn("No gameObjects in the Game."),j=Date.now(),p=Date.now(),b=!0,a(),console.info("Gameloop is running")},F=function(){b=!1,q=Date.now(),console.info("Gameloop stopped")},{canvas:u,context:c,clearCanvas:s,init:w,deltaTime:o,fps:f,gameObjects:l,addObject:v,addObjects:g,removeObject:h,start:A,stop:F}}(window,document);