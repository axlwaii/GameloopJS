/*! gameloopjs 2013-12-29 */
var GameLoop={};window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/30)}}(),GameLoop=function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=30,u={},v=!1,w=1e3/30;return g=function(){return b},h=function(){return c},f=function(a){return t=a||t,w=1e3/t,t},a=function(a){"object"==typeof a&&d.push(a)},m=function(a){d.indexOf(a)>=0&&d.splice(d.indexOf(a,1))},e=function(){return.1*parseInt(Date.now()-j,10)},r=function(){return(new Date).getTime()>k?!0:!1},n=function(){var a,e;for(c.clearRect(0,0,b.width,b.height),c.save(),a=0;a<d.length;a++)e=d[a],void 0!==e.render&&e.render();c.restore()},s=function(){d.forEach(function(a){void 0!==a.update&&a.update()})},i=function(a){return void 0===a?(console.error("No canvas object is defined"),!1):(d=[],b=document.getElementById(a),c=b.getContext("2d"),void 0)},l=function(){r()&&(s(),n(),k=(new Date).getTime()+w,j=(new Date).getTime()),v&&setTimeout(function(){window.requestAnimFrame(l)},15)},o=function(){0===d.length&&console.warn("No gameObjects in the Game."),p=Date.now(),k=(new Date).getTime(),j=(new Date).getTime(),v=!0,l(),console.info("Gameloop is running")},q=function(){console.info("Gameloop stopped"),v=!1},{addObject:a,canvas:g,context:h,deltaTime:e,fps:f,gameObjects:d,init:i,input:u,removeObject:m,start:o,startTime:p,stop:q}}();